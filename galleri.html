<!DOCTYPE html>
<html>

<head>

	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="stylesheet.css">
		<link rel="stylesheet" href="burger.css">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="description" content="">
		<meta name="author" content="">
		<title>GALLERi</title>
		<!--		!NOTE: vi skal tÃ¦nke over -->
		<!--		************************************* GALLERI-TEMPLATE-->
		<template id="galleriTemplate">
			<div class="borderWrapper">
				<div class="itemContainer">
					<a href="" class="linkSingle">
						<div class="itemWrapper"><img class="itemImg lazyload"></div>
					</a>
					<p class="itemDescription"></p>
				</div>
			</div>
		</template>
		<template id="filterTemplate">
			<h3 class="filterItem"></h3> </template>
		<!--		************************************* OPLEVELSE-TEMPLATE-->
	</head>

	<body>
		<!--		************************************* NAVIGATION TIL WEB-->
		<nav>
			<button class="burger">
				<div class="bar1"></div>
				<div class="bar2"></div>
				<div class="bar3"></div>
			</button>
			<div id="logo"></div>
			<ul id="menuContainer">
				<a href="galleri.html">
					<li class="menuItems">Galleri</li>
				</a>
				<a href="oplevelser.html">
					<li class="menuItems">Oplevelser</li>
				</a>
				<a href="produktudvikling.html">
					<li class="menuItems">Produktudvikling</li>
				</a>
				<a href="om.html">
					<li class="menuItems">Om</li>
				</a>
				<a href="kontakt.html">
					<li class="menuItems">Kontakt</li>
				</a>
			</ul>
			<div id="instagram"></div>
		</nav>
		<!--		************************************* BG VIDEO-->
		<div id="bgVideo"></div>
		<!--		************************************* FILTER-TEMPLATE-->
		<!--		LOAD CATEGORIES FROM ENDPOINT -->
		<!--		<a href="">-->
		<!--			<h4 class="filterOptions" id="">filter-kategori</h4> </a>-->
		<!--		*************************************-->
		<!--		************************************* GALLERI-->
		<div id="galleryContainer">
			<a href="galleri.html?gallery=interior">
				<div id="galleryInterior" class="galleries">
					<h2>Indretning &amp; Lys</h2> </div>
			</a>
			<a href="galleri.html?gallery=awards">
				<div id="galleryAwards" class="galleries">
					<h2>Awards &amp; Gaver</h2> </div>
			</a>
			<a href="galleri.html?gallery=art">
				<div id="galleryArt" class="galleries">
					<h2>Kunst &amp; Malerier</h2> </div>
			</a>
		</div>
		<section id="filterContainer"></section>
		<section id="itemContainer"></section>
		<!--		************************************* OPLEVELSE-JS-->
		<script>
			let filterList = new Array();
			async function loadOplevelser() {
				let template = document.querySelector("#galleriTemplate");
				let parent = document.querySelector("#itemContainer");
				let galleriObj = await fetch("http://rearrangingly.com/KEA/raad/wp-json/wp/v2/galleri");
				let galleri = await galleriObj.json();
				console.log(galleri);
				galleri.forEach(function (billede) {
					let clone = template.cloneNode(true).content;
					clone.querySelector(".itemImg").setAttribute("src", billede.acf.billede);
					//					clone.querySelector(".oplevelseHeadline").textContent = billede.acf.overskrift;
					clone.querySelector(".itemDescription").textContent = billede.content.rendered.replace(/<(?:.|\n)*?>/gm, '');
					//					clone.querySelector(".itemDescription").textContent = billede.content.rendered.replace(/<(?:.|\n)*?>/gm, '');
					let kat = billede.acf.kategori;
					clone.querySelector(".borderWrapper").classList.add(kat);
					if (filterList.includes(kat) == !true) {
						filterList.push(billede.acf.kategori);
					}
					parent.appendChild(clone);
				});
				loadFilter(filterList);
			}

			function loadFilter() {
				let template = document.querySelector("#filterTemplate");
				let parent = document.querySelector("#filterContainer");
				console.log(filterList);
				filterList.forEach(function (filter) {

					let clone = template.cloneNode(true).content;
					clone.querySelector(".filterItem").textContent = filter;
					clone.querySelector(".filterItem").onclick = function something() {

						console.log(filter);
						for (let e of document.getElementsByClassName(filter)) e.style.display = "none";
//							.style.visibility = 'hidden';
//						document.getElementsByClassName(filter).style.visibility = 'hidden';
					};
					parent.appendChild(clone);
				});
			}
			loadOplevelser();
		</script>
		<script src="burger.js"></script>
		<style>
			body {
				margin: 0vw;
			}

			#galleryContainer {
				background-color: red;
				border: blue 4px solid;
			}
			/*

			#galleryContainer:nth-child(2n) {
				background: blue;
				border: pink 4px solid;
			}
*/

			.galleries {
				height: 10vh;
			}

			.itemWrapper {
				height: 90vw;
				width: 90vw;
				overflow: hidden;
				/*				border: 20px red solid;*/
				outline: 5vw rgba(0, 0, 0, .5) solid;
				outline-offset: -5vw;
				padding: 5vw;
			}

			.itemImg {
				max-height: 90vw;
				/*				max-width: 90vw;*/
				/*				padding: 10px;*/
			}
			/*			itemWrapper itemContainer*/
		</style>
	</body>
	<!--	IS ALIVEEEEE-->

</html>
